# 유용한 링크
- vscode 매개변수 정보 : 
 https://code.visualstudio.com/docs/editor/variables-reference

# c언어의 빌드 과정을 살펴보자

1. 전처리
    - 주석 제거
    - 헤더파일 삽입 : 헤더파일에 있는 모든 내용을 복사해서 소스코드에 삽입. 헤더파일에 선언된 함수 원형은 후에 링킹 괒어을 통해 실제로 함수가 정의되어 있는 오브젝트 파일과 결합한다.
    - 매크로 치환 및 적용
2. 컴파일
    - 소스 코드 파일을 어셈블리어 파일로 변환
    - 어셈블리어로 번역 (어셈블리어는 사람이 이해할 수 있게 부호화 된 것으로 cpu 명령어[기계어]와 1대1로 매칭)
    - 문법 검사
    - 메모리 할당
3. 어셈블리 
    - 어셈블리어 파일을 오브젝트 파일로 변환
    - 오브젝트 파일 : 

4. 링킹
    - 오브젝트 파일들을 묶어 실행파일로 만드는 과정
    - 라이브러리 파일들을 링크하여 하나의 실행 파일을 만든다. 
    - 정적 링킹
    - 동적 링킹
    - 링커의 역할
        - 심볼 해석
        - 재배치 

간단하게 위와 같이 컴파일이 이뤄진다. 

# 설정이 필요한 이유
- 여러 파일 동시 컴파일 및 빌드.
- 보통 한 가지 프로그램을 만들 때 여러 파일들로 분할해서 개발한다. 예컨데 헤더파일과 소스파일로 분할하여 개발하는 것이 대표적인 예다. 
이때 헤더파일의 구현부와 메인 함수가 포함된 소스코드를 vscode에서 동시에 빌드해주도록 설정을 해줘야한다.

# .vscode
.vscode는 c언어로 작업하는 디렉토리에 자동적으로 vscode에서 생성하는 설정 폴더이다.
- launch.json : 디버깅 구성 설정
    - 디버깅 구성 설정
    - 디버깅 옵션 설정
    - 런치 구성 설정 
- task.json 
    - 빌드 태스크 설정
    - 사용자 정의 작업 설정
    - 타스크 실행 설정

# 나의 설정
```json
//tasks.json
"tasks": [
        {
            ...
            "args": [
                "-fdiagnostics-color=always",
                "-g",
                // 설정 1. 디렉토리 내 모든 파일들을 컴파일
                "${fileDirname}/*.c",
                "-o",
                // 설정 2. 생성할 실행파일 이름을 디렉토리명과 같게함.
                "${fileDirname}/${fileDirnameBasename}"
            ],
            ...
        }
]
```
```json
// launch.json

"configurations": [
        {
            ...
            // 설정 1. 프로그램의 실행 가능한 파일 경로가 된다. 컴파일 된 실행파일의 경로가 된다. 즉 위 task에서 설정해준 프로그램명으로 설정을 바꾸면 된다. 
            "program": "${fileDirname}/${fileDirnameBasename}",
            ...
        }
]
```